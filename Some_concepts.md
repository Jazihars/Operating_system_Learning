# 一些概念的含义

这个笔记用于记录我之前不知道的一些概念的含义。

## POSIX
`POSIX`是`可移植操作系统接口`的缩写。关于这个概念，参考[stackoverflow上对POSIX的解释](https://stackoverflow.com/questions/1780599/what-is-the-meaning-of-posix)。对这里的第一个回答进行DeepL机器翻译，结果为：
```
POSIX是由IEEE指定的一系列标准，用于澄清和统一由Unix-y操作系统提供的应用程序接口（和附属问题，如命令行shell工具）。

当你依靠POSIX标准来编写你自己的程序时，你可以非常肯定它能够在众多的Unix衍生系统（包括但不限于Linux）中轻松地移植；如果你使用一些没有作为Posix的一部分来标准化的Linux API，则你想在未来将该程序或库移植到其他Unix-y系统（例如Mac OS X）时会更加困难。
```

## dll文件
参考[一篇网络文章](https://www.cnblogs.com/baxianhua/p/9083048.html)，可知：
```
1.DLL文件是怎么产生的
许多应用程序被分割成一些相对独立的动态链接库，放置于系统中，就产生了DLL文件。


2.DLL文件是什么
DLL(Dynamic Link Library)文件为动态链接库文件，又称“应用程序拓展”，是软件文件类型。在Windows中，许多应用程序并不是一个完整的可执行文件，它们被分割成一些相对独立的动态链接库，即DLL文件，放置于系统中。当我们执行某一个程序时，相应的DLL文件就会被调用。一个应用程序可使用多个DLL文件，一个DLL文件也可能被不同的应用程序使用，这样的DLL文件被称为共享DLL文件。


3.DLL文件有什么用
DLL文件中存放的是各类程序的函数(子过程)实现过程，当程序需要调用函数时需要先载入DLL，然后取得函数的地址，最后进行调用。使用DLL文件的好处是程序不需要在运行之初加载所有代码，只有在程序需要某个函数的时候才从DLL中取出。另外，使用DLL文件还可以减小程序的体积。
在 Windows操作系统中，每个程序都可以使用该 DLL 中包含的功能来实现“打开”对话框。这有助于促进代码重用和内存的有效使用。
通过使用 DLL，程序可以实现模块化，由相对独立的组件组成。例如，一个记账程序可以按模块来销售。可以在运行时将各个模块加载到主程序中（如果安装了相应模块）。因为模块是彼此独立的，所以程序的加载速度更快，而且模块只在相应的功能被请求时才加载。
此外，可以更为容易地将更新应用于各个模块，而不会影响该程序的其他部分。例如，您可能具有一个工资计算程序，而税率每年都会更改。当这些更改被隔离到 DLL 中以后，您无需重新生成或安装整个程序就可以应用更新。
```

## 库文件
参考网络文章[.h（头文件） .lib（库文件） .dll（动态链接库文件） 之间的关系和作用的区分](https://wofead.top/2019/10/31/c++%E5%A4%B4%E6%96%87%E4%BB%B6%E5%BA%93%E6%96%87%E4%BB%B6%E5%92%8C%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E4%BD%9C%E7%94%A8/)。摘录里面的部分内容如下：
```
.h头文件是编译时必须的，lib是链接时需要的，dll是运行时需要的。

附加依赖项的是.lib不是.dll，若生成了dll，则肯定也生成了lib文件。如果完成源代码的编译和链接，有头文件和lib就够了。如果也是用动态链接的程序运行起来，有dll就够了(放在debug文件夹中)。在开发和调试阶段，当然最好都有。

.h .lib .dll三者的关系是：
H文件的作用是：声明函数接口。
DLL文件的作用是：函数可执行代码。

当我们在自己的程序中引用了一个H文件里的函数，编链器怎么知道该调用是那个dll文件呢？这就是lib文件的作用：告诉链接器调用的函数在那个dll中，函数执行代码在dll中的什么位置，这也就是为什么需要附加依赖项lib文件，它起到桥梁的作用，如果生成静态库文件，则没有dll，只用lib，这时函数可执行代码部分也在lib文件中。

目前以lib后缀的库有两种，一种为静态链接库(Static Libary，以下简称“静态库”)，另一种是动态链接库（DLL，以下简称“动态库”）的导入库(Import Libary，以下简称“导入库”）。静态库是一个或者多个obj文件的打包，所以有人干脆把从obj文件生成lib的过程称为Archive，即合并到一起。比如你链接一个静态库，如果其中有错，它会准确的找到是哪个obj有错，即静态lib只是壳子。动态库一般会有对应的导入库，方便程序静态载入动态链接库，否则你可能就需要自己LoadLibary调入DLL文件，然后再手工GetProcAddress获得对应函数了。有了导入库，你只需要链接导入库后按照头文件函数接口的声明调用函数就可以了。导入库和静态库的区别很大，他们实质是不一样的东西。静态库本身就包含了实际执行代码、符号表等等，而对于导入库而言，其实际的执行代码位于动态库中，导入库只包含了地址符号表等，确保程序找到对应函数的一些基本地址信息。

一般的动态库程序有lib文件和dll文件。lib文件是必须在编译期就连接到应用程序中的，而dll文件是运行期才会被调用的。如果有dll文件，那么对应的lib文件一般是一些索引信息，具体的实现在dll文件中。如果只有lib文件，那么这个lib文件是静态编译出来的，索引和实现都在其中。静态编译的lib文件有好处：给用户安装时就不需要再挂动态库了。但也有缺点，就是导致应用程序比较大，而且失去了动态库的灵活性，在版本升级时，同时要发布新的应用程序才行。在动态库的情况下，有两个文件，而一个是引入库（.LIB）文件，一个是DLL文件，引入库文件包含被DLL导出的函数的名称和位置，DLL包含实际的函数和数据，应用程序使用LIB文件链接到所需要使用的DLL文件，库中的函数和数据并不复制到可执行文件中，因此在应用程序的可执行文件中，存放的不是被调用的函数代码，而是DLL中所要调用的函数的内存地址，这样当一个或多个应用程序运行是再把程序代码和被调用的函数代码链接起来，从而节省了内存资源。从上面的说明可以看出，DLL和.LIB文件必须随应用程序一起发行，否则应用程序将会产生错误。
```

## 库函数
参考[百度百科的解释](https://baike.baidu.com/item/%E5%BA%93%E5%87%BD%E6%95%B0/3471322)：
```
库函数（Library function）是将函数封装入库，供用户使用的一种方式。方法是把一些常用到的函数编完放到一个文件里，供不同的人进行调用。调用的时候把它所在的文件名用#include<>加到里面就可以了。一般是放到lib文件里的。
```
更多的信息可以参考知乎回答[系统调用和库函数有什么区别？](https://www.zhihu.com/question/19930018/answer/1329177990)